(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(t,n,e){},38:function(t,n,e){"use strict";e.r(n);var c=e(0),s=e(2),u=e(14),o=e.n(u),r=e(3),a=function(t){var n=t.student;return Object(c.jsxs)("li",{className:"student",children:[n.name," ",n.transport]})},i=e(4),l=e.n(i),j="http://localhost:3001/api/students",d=function(){return l.a.get(j).then((function(t){return t.data}))},b=function(t){return l.a.post(j,t).then((function(t){return t.data}))},f=function(t){var n=t.message;return null===n?null:Object(c.jsx)("div",{className:"success",children:n})},h=function(t){var n=Object(s.useState)([]),e=Object(r.a)(n,2),u=e[0],o=e[1],i=Object(s.useState)("Add Student..."),l=Object(r.a)(i,2),j=l[0],h=l[1],O=Object(s.useState)(!1),p=Object(r.a)(O,2),m=p[0],x=p[1],v=Object(s.useState)(!1),S=Object(r.a)(v,2),g=S[0],C=S[1],w=Object(s.useState)(""),k=Object(r.a)(w,2),B=k[0],y=k[1];Object(s.useEffect)((function(){console.log("effect"),d().then((function(t){o(t)})).catch((function(t){return console.log(t)}))}),[]),console.log("render",u.length,"students");var A=m||g?m?u.filter((function(t){return"Car"===t.transport})):u.filter((function(t){return"Bus"===t.transport})):u;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Students"}),Object(c.jsx)(f,{message:B}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:function(){x(!0),C(!1)},children:"Show Cars"}),Object(c.jsx)("button",{onClick:function(){C(!0),x(!1)},children:"Show Busses"}),Object(c.jsx)("button",{onClick:function(){C(!1),x(!1)},children:"Show All"})]}),Object(c.jsx)("ul",{children:A.map((function(t){return Object(c.jsx)(a,{student:t},t.id)}))}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={name:j,transport:Math.random()<.5?"Car":"Bus"};b(n).then((function(t){o(u.concat(t)),h(""),y("Student '".concat(t.name,"' was added")),setTimeout((function(){y(null)}),4e3)})).catch((function(t){console.log(t)}))},children:[Object(c.jsx)("input",{value:j,onChange:function(t){h(t.target.value)}}),Object(c.jsx)("button",{type:"submit",children:"Save"})]})]})};e(37);o.a.render(Object(c.jsx)(h,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.53e07082.chunk.js.map